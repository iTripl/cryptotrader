[runtime]
mode = backtest
exchange = bybit
strategy_modules = strategies.donchian_trend:DonchianEnsembleTrendStrategy,strategies.cross_section_momentum:CrossSectionMomentumStrategy
risk_profile = balanced
dry_run = false

[exchange]
api_key = ${BYBIT_API_KEY}
api_secret = ${BYBIT_API_SECRET}
api_passphrase = 
rest_url = https://api.bybit.com
ws_url = wss://stream.bybit.com/v5/public/linear
timeout_seconds = 10
rate_limit_per_min = 120
category = linear

[symbols]
symbols = BTCUSDT,ETHUSDT
timeframes = 1m,5m,1h

[risk]
initial_equity = 1000
risk_per_trade = 0.005
max_daily_drawdown = 0.03
max_consecutive_losses = 1000
min_expectancy = 0.0
correlation_limit = 0.7
exposure_limit = 0.25
volatility_adjustment_high = 0.6
volatility_adjustment_normal = 1.0
volatility_adjustment_low = 1.2
stop_loss_pct = 0.02
take_profit_pct = 0.6
trailing_take_profit_pct = 0.005

[strategy]
confidence_floor = 0.55
signal_horizon = 5m

[strategy.simple_ma]
fast_window = 20
slow_window = 50
confidence = 0.8
horizon = 5m
volatility_regime = normal

[strategy.rsi_reversion]
rsi_period = 14
overbought = 70
oversold = 30
confidence = 0.8
horizon = 5m
volatility_regime = normal

[strategy.donchian_trend]
lookbacks = 20,50,100
min_votes = 2
confidence = 0.8
horizon = 1h
volatility_regime = normal

[strategy.cross_section_momentum]
lookback_bars = 30
hold_bars = 7
top_n = 1
allow_short = false
confidence = 0.80
horizon = 1d
volatility_regime = normal

[paths]
data_dir = Data
state_dir = State
state_db = State/trading.db
logs_dir = Logs

[logging]
level = INFO
json = true
console = true

[ml]
enabled = false
min_trades = 50
target_win_rate = 0.52
max_adjustment_pct = 0.2

[backtest]
start_ts = 0
end_ts = 0
days_back = 365
fast_local = true
max_candles_per_series = 5000
fee_bps = 4
slippage_bps = 2
latency_ms = 150
auto_download = true
download_limit = 1000
loader_timeout_seconds = 120
max_empty_batches = 2

[forward]
paper_trading = true

[live]
paper_trading = false

